# 基础（下）

## 操作符

::: tip 写在前面
和C语言差不多吧，前自增、后自增......这里也只会提与C语言不太一样的地方
:::

### + 和 -

在一个字符串之间使用 + 或 -，会先尝试将字符串转化成对应的数字。

```js
let s1 = "01";
let s2 = "1.1";
let s3 = "z";
let b = false;
let f = 1.1;
let o = {
    valueOf() {
        return -1;
    }
};

s1 = -s1;   // 值变成数值-1
s2 = -s2;   // 值变成数值-1.1
s3 = -s3;   // 值变成 NaN
b  = -b;    // 值变成数值 0
f  = -f;    // 变成-1.1
o  = -o;    // 值变成数值 1 
```

::: warning 注意
ECMAScript 中最常犯的一个错误，就是忽略加法操作中涉及的数据类型。
:::

```js
let num1 = 5;
let num2 = 10;
let message = "The sum of 5 and 10 is " + num1 + num2;
console.log(message); // "The sum of 5 and 10 is 510" 
```

### ! 和 &&

它们都特别好玩！

```js
if (!user) {
    console.log(`user is empty.`);
}
```

```js
!user && console.log(`user is empty.`);
```

注意啊，它们是等价的。

### **

ECMAScript 7 新增了指数操作符，`Math.pow()` 现在有了自己的操作符 `**`，用哪个都行，结果是一样的。

```js
console.log(Math.pow(3, 2);    // 9
console.log(3 ** 2);           // 9
console.log(Math.pow(16, 0.5); // 4
console.log(16** 0.5);         // 4
```

## 语句

``` tip 写在前面
同样与C语言相同的部分就默认都会了......
```

### for-in

for-in 语句是一种严格的迭代语句，用于枚举**对象**中的非符号键属性。

```js
for (const propName in window) {
    document.write(propName);
} 
```

这个例子使用 for-in 循环显示了 BOM 对象 `window` 的所有属性。每次执行循环，都会给变量 `propName` 赋予一个 `window` 对象的属性作为值，直到 `window` 的所有属性都被枚举一遍。与 `for` 循环一样，这里控制语句中的 `const` 也不是必需的。但为了确保这个局部变量不被修改，推荐使用 `const`。

### for-of

`for-of` 语句是一种严格的迭代语句，用于遍历**可迭代对象**的元素。

```js
for (const el of [2, 4, 6, 8]) {
    document.write(el);
}
```

在使用 for-of 语句显示了一个包含 4 个元素的数组中的所有元素。循环会一直持续到将所有元素都迭代完。

### with

::: warning 注意
一般没人用也不推荐用，看看就好。
:::

`with` 语句的用途是将代码作用域设置为特定的对象。

```js
let qs = location.search.substring(1);
let hostName = location.hostname;
let url = location.href; 

// 等价于

with (location) {
    let qs = search.substring(1);
    let hostName = hostname;
    let url = href;
}
```

## 函数